<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Reports & Analytics - Venue ERP Internal</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="css/internal.css">
  <style>
    .report-card {
      background: white;
      border-radius: 8px;
      padding: 1.5rem;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      cursor: pointer;
      transition: all 0.2s;
      border-left: 4px solid transparent;
    }

    .report-card:hover {
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      transform: translateY(-2px);
    }

    .report-card.revenue {
      border-left-color: var(--success);
    }

    .report-card.bookings {
      border-left-color: var(--primary);
    }

    .report-card.customers {
      border-left-color: var(--info);
    }

    .report-card.performance {
      border-left-color: var(--warning);
    }

    .report-icon {
      width: 60px;
      height: 60px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.8rem;
      margin-bottom: 1rem;
    }

    .report-icon.revenue {
      background: linear-gradient(135deg, #DEF7EC, #A7F3D0);
      color: var(--success);
    }

    .report-icon.bookings {
      background: linear-gradient(135deg, #DBEAFE, #93C5FD);
      color: var(--primary);
    }

    .report-icon.customers {
      background: linear-gradient(135deg, #E0E7FF, #C7D2FE);
      color: var(--info);
    }

    .report-icon.performance {
      background: linear-gradient(135deg, #FEF3C7, #FDE68A);
      color: var(--warning);
    }

    .report-title {
      font-size: 1.1rem;
      font-weight: 700;
      color: var(--dark);
      margin-bottom: 0.5rem;
    }

    .report-description {
      color: var(--gray);
      font-size: 0.9rem;
      line-height: 1.5;
      margin-bottom: 1rem;
    }

    .report-meta {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding-top: 1rem;
      border-top: 1px solid var(--border);
      font-size: 0.85rem;
      color: var(--gray);
    }

    .chart-container {
      background: white;
      border-radius: 8px;
      padding: 1.5rem;
      box-shadow: 0 2px 4px rgba(0,0,0,0.05);
      margin-bottom: 2rem;
    }

    .chart-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1.5rem;
      padding-bottom: 1rem;
      border-bottom: 2px solid var(--border);
    }

    .chart-title {
      font-size: 1.2rem;
      font-weight: 700;
      color: var(--dark);
    }

    .chart-placeholder {
      height: 300px;
      background: linear-gradient(135deg, #F3F4F6 0%, #E5E7EB 100%);
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--gray);
      font-size: 1.1rem;
      border: 2px dashed var(--border);
    }

    .quick-stats-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 1rem;
      margin-bottom: 2rem;
    }

    .quick-stat {
      background: white;
      padding: 1.5rem;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.05);
      text-align: center;
    }

    .quick-stat-value {
      font-size: 2rem;
      font-weight: 700;
      color: var(--dark);
      margin-bottom: 0.5rem;
    }

    .quick-stat-label {
      color: var(--gray);
      font-size: 0.9rem;
    }

    .quick-stat-trend {
      font-size: 0.85rem;
      margin-top: 0.5rem;
    }

    .quick-stat-trend.positive {
      color: var(--success);
    }

    .quick-stat-trend.negative {
      color: var(--danger);
    }

    .date-filter-bar {
      background: white;
      padding: 1rem 1.5rem;
      border-radius: 8px;
      margin-bottom: 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    }

    .date-presets {
      display: flex;
      gap: 0.5rem;
    }
  </style>
</head>
<body>

  <div class="panel-layout">
    <!-- Sidebar Component -->
    <div id="sidebarContainer"></div>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Header Component -->
      <div id="headerContainer"></div>

      <!-- Page Content -->
      <div class="page-content">
        <div class="container-fluid">

          <!-- Date Filter -->
          <div class="date-filter-bar">
            <div class="date-presets">
              <button class="btn btn-sm btn-primary">Today</button>
              <button class="btn btn-sm btn-secondary">This Week</button>
              <button class="btn btn-sm btn-secondary">This Month</button>
              <button class="btn btn-sm btn-secondary">This Quarter</button>
              <button class="btn btn-sm btn-secondary">This Year</button>
            </div>
            <div style="display: flex; gap: 0.5rem; align-items: center;">
              <input type="date" class="form-control" style="width: auto;">
              <span style="color: var(--gray);">to</span>
              <input type="date" class="form-control" style="width: auto;">
              <button class="btn btn-primary">
                <i class="fas fa-filter"></i> Apply
              </button>
            </div>
          </div>

          <!-- Quick Stats -->
          <div class="quick-stats-grid">
            <div class="quick-stat">
              <div class="quick-stat-value">$284,500</div>
              <div class="quick-stat-label">Total Revenue</div>
              <div class="quick-stat-trend positive">
                <i class="fas fa-arrow-up"></i> +18.2%
              </div>
            </div>
            <div class="quick-stat">
              <div class="quick-stat-value">156</div>
              <div class="quick-stat-label">Total Bookings</div>
              <div class="quick-stat-trend positive">
                <i class="fas fa-arrow-up"></i> +12.4%
              </div>
            </div>
            <div class="quick-stat">
              <div class="quick-stat-value">78%</div>
              <div class="quick-stat-label">Occupancy Rate</div>
              <div class="quick-stat-trend positive">
                <i class="fas fa-arrow-up"></i> +5.3%
              </div>
            </div>
            <div class="quick-stat">
              <div class="quick-stat-value">$1,825</div>
              <div class="quick-stat-label">Avg. Booking Value</div>
              <div class="quick-stat-trend negative">
                <i class="fas fa-arrow-down"></i> -3.1%
              </div>
            </div>
          </div>

          <!-- Charts Row 1 -->
          <div class="grid grid-2" style="margin-bottom: 2rem;">
            <div class="chart-container">
              <div class="chart-header">
                <div class="chart-title">Revenue Trend</div>
                <select class="form-control" style="width: auto;">
                  <option>Last 12 Months</option>
                  <option>Last 6 Months</option>
                  <option>Last 3 Months</option>
                </select>
              </div>
              <div class="chart-placeholder">
                <i class="fas fa-chart-line" style="margin-right: 0.5rem;"></i>
                Revenue Line Chart
              </div>
            </div>

            <div class="chart-container">
              <div class="chart-header">
                <div class="chart-title">Booking Status Distribution</div>
                <button class="btn btn-sm btn-secondary">
                  <i class="fas fa-download"></i> Export
                </button>
              </div>
              <div class="chart-placeholder">
                <i class="fas fa-chart-pie" style="margin-right: 0.5rem;"></i>
                Status Pie Chart
              </div>
            </div>
          </div>

          <!-- Charts Row 2 -->
          <div class="grid grid-2" style="margin-bottom: 2rem;">
            <div class="chart-container">
              <div class="chart-header">
                <div class="chart-title">Venue Performance Comparison</div>
                <button class="btn btn-sm btn-secondary">
                  <i class="fas fa-expand"></i> Full Screen
                </button>
              </div>
              <div class="chart-placeholder">
                <i class="fas fa-chart-bar" style="margin-right: 0.5rem;"></i>
                Venue Bar Chart
              </div>
            </div>

            <div class="chart-container">
              <div class="chart-header">
                <div class="chart-title">Lead Conversion Funnel</div>
                <button class="btn btn-sm btn-secondary">
                  <i class="fas fa-info-circle"></i> Info
                </button>
              </div>
              <div class="chart-placeholder">
                <i class="fas fa-filter" style="margin-right: 0.5rem;"></i>
                Conversion Funnel
              </div>
            </div>
          </div>

          <!-- Report Types Grid -->
          <h3 style="margin-bottom: 1.5rem; color: var(--dark);">Available Reports</h3>
          <div class="grid grid-3">

            <div class="report-card revenue" onclick="generateReport('revenue')">
              <div class="report-icon revenue">
                <i class="fas fa-dollar-sign"></i>
              </div>
              <div class="report-title">Revenue Report</div>
              <div class="report-description">
                Comprehensive revenue analysis with breakdowns by venue, event type, and time period
              </div>
              <div class="report-meta">
                <span><i class="fas fa-clock"></i> Updated daily</span>
                <span><i class="fas fa-download"></i> PDF/CSV</span>
              </div>
            </div>

            <div class="report-card bookings" onclick="generateReport('bookings')">
              <div class="report-icon bookings">
                <i class="fas fa-calendar-check"></i>
              </div>
              <div class="report-title">Booking Analytics</div>
              <div class="report-description">
                Detailed booking trends, patterns, and forecasting for better capacity planning
              </div>
              <div class="report-meta">
                <span><i class="fas fa-clock"></i> Real-time</span>
                <span><i class="fas fa-download"></i> PDF/Excel</span>
              </div>
            </div>

            <div class="report-card customers" onclick="generateReport('customers')">
              <div class="report-icon customers">
                <i class="fas fa-users"></i>
              </div>
              <div class="report-title">Customer Insights</div>
              <div class="report-description">
                Customer behavior analysis, lifetime value, and segmentation reports
              </div>
              <div class="report-meta">
                <span><i class="fas fa-clock"></i> Weekly</span>
                <span><i class="fas fa-download"></i> PDF</span>
              </div>
            </div>

            <div class="report-card performance" onclick="generateReport('performance')">
              <div class="report-icon performance">
                <i class="fas fa-chart-line"></i>
              </div>
              <div class="report-title">Venue Performance</div>
              <div class="report-description">
                Individual venue metrics including occupancy, revenue, and customer satisfaction
              </div>
              <div class="report-meta">
                <span><i class="fas fa-clock"></i> Monthly</span>
                <span><i class="fas fa-download"></i> PDF/CSV</span>
              </div>
            </div>

            <div class="report-card revenue" onclick="generateReport('sales')">
              <div class="report-icon revenue">
                <i class="fas fa-funnel-dollar"></i>
              </div>
              <div class="report-title">Sales Pipeline</div>
              <div class="report-description">
                Lead conversion rates, sales cycle analysis, and team performance metrics
              </div>
              <div class="report-meta">
                <span><i class="fas fa-clock"></i> Daily</span>
                <span><i class="fas fa-download"></i> Excel</span>
              </div>
            </div>

            <div class="report-card bookings" onclick="generateReport('financial')">
              <div class="report-icon bookings">
                <i class="fas fa-file-invoice-dollar"></i>
              </div>
              <div class="report-title">Financial Summary</div>
              <div class="report-description">
                Complete financial overview including invoices, payments, and outstanding balances
              </div>
              <div class="report-meta">
                <span><i class="fas fa-clock"></i> Monthly</span>
                <span><i class="fas fa-download"></i> PDF/Excel</span>
              </div>
            </div>

          </div>

        </div>
      </div>

    </main>
  </div>


  <!-- Scripts -->
  <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
  <script src="js/roles-config.js"></script>
  <script src="js/components.js"></script>
  <script src="js/modals.js"></script>
  <script src="js/modals-extended.js"></script>
  <script src="js/internal.js"></script>
  <script>
    $(document).ready(async function() {

      // ========== LOAD COMPONENTS ==========
      await ComponentLoader.loadMultiple([
        { name: 'sidebar', target: 'sidebarContainer' },
        { name: 'header', target: 'headerContainer' }
      ]);

      // Set page info
      PageManager.setTitle('Reports & Analytics');
      PageManager.setActiveNav('reports');

      // Set quick actions
      PageManager.setQuickActions([
        {
          label: 'Create Custom Report',
          icon: 'fas fa-plus',
          class: 'btn-primary',
          onClick: "createCustomReport()"
        },
        {
          label: 'Schedule Report',
          icon: 'fas fa-clock',
          class: 'btn-secondary',
          onClick: "scheduleReport()"
        },
        {
          label: 'Export All Data',
          icon: 'fas fa-download',
          class: 'btn-secondary',
          onClick: "exportAllData()"
        }
      ]);

    });

    // ========== REPORT GENERATION ==========
    function generateReport(type) {
      const reportNames = {
        revenue: 'Revenue Report',
        bookings: 'Booking Analytics',
        customers: 'Customer Insights',
        performance: 'Venue Performance',
        sales: 'Sales Pipeline',
        financial: 'Financial Summary'
      };

      showSuccessToast(`Generating ${reportNames[type]}...`);
    }

    function scheduleReport() {
      showSuccessToast('Schedule automated reports feature coming soon');
    }

    function exportAllData() {
      showSuccessToast('Exporting complete dataset...');
    }
  </script>

</body>
</html>
